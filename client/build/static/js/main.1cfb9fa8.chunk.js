(this["webpackJsonpreact-app-base"]=this["webpackJsonpreact-app-base"]||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(12),s=a.n(r),l=a(15),o=a(5),c=a(6),d=a(3),h=a(8),u=a(7),m=a(51),p=a.n(m),v=(a(67),a(120)),g=a(121),y=a(119),f=a(52),w=a(117),E=Object(f.a)((function(e){function t(t){return e.location.pathname===t?"active":""}function a(e){return n.a.createElement("li",{className:t(e)},n.a.createElement(w.a,{to:e},function(e){switch(e){case"/collection":return"My Collection";case"/wishlist":return"Wishlist";case"/imdb":return"IMDB";case"/account":return"Account";default:return"Pick a Movie"}}(e)))}return n.a.createElement("div",{id:"header"},n.a.createElement("nav",{className:"nav blue lighten-2"},n.a.createElement("div",{className:"nav-wrapper"},n.a.createElement("a",{className:"brand-logo right"},"moviecola"),n.a.createElement("ul",{className:"left hide-on-med-and-down"},a("/"),a("/collection"),a("/wishlist"),a("/imdb"),a("/account")),n.a.createElement("a",{"data-target":"mobile-demo",className:"sidenav-trigger hide-on-large"},n.a.createElement("i",{className:"material-icons"},"menu")))),n.a.createElement("ul",{className:"sidenav hide-on-large",id:"mobile-demo"},a("/"),a("/collection"),a("/wishlist"),a("/imdb"),a("/account")))})),b=a(57),S=a(55),O=a.n(S),k=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={selected:[]},i}return Object(c.a)(a,[{key:"getOptions",value:function(){var e=[],t=this.props.getAllTags();for(var a in t){var i=t[a];this.props.skip&&this.props.skip.includes(i)||e.push({value:i,label:i})}return e}},{key:"handleChange",value:function(e){this.setState({selected:e});var t=[];for(var a in e)t.push(e[a].value);this.props.getTagsFromSelect(t,this.props.type)}},{key:"componentWillMount",value:function(){if(this.props.tags){var e=[],t=this.props.tags;for(var a in t)e.push({value:t[a],label:t[a]});this.setState({selected:e})}}},{key:"render",value:function(){var e=this;return this.props.creatable?n.a.createElement(O.a,{options:this.getOptions(),isSearchable:!0,isMulti:!0,value:this.state.selected,onChange:function(t){return e.handleChange(t)}}):n.a.createElement(b.a,{options:this.getOptions(),isSearchable:!0,isMulti:!0,value:this.state.selected,onChange:function(t){return e.handleChange(t)}})}}]),a}(i.Component),N="10/09/18";function C(){return{collection:[{added:N,tags:["crime","drama"],title:"American Hustle",watched:!1,year:"2013",series:""},{added:N,tags:["war","action"],title:"American Sniper",watched:!1,year:"2014",series:""},{added:N,tags:["musical","animated"],title:"Anastasia",watched:!0,year:"?",series:"",review:4},{added:N,tags:["action","feminism"],title:"Atomic Blonde",watched:!1,year:"2017",series:""},{added:N,tags:["action","crime","drama"],title:"Baby Driver",watched:!1,year:"2017",series:""},{added:N,tags:["comedy"],title:"Baywatch",watched:!1,year:"?",series:""},{added:N,tags:["disney","musical"],title:"Beauty and the Beast (2017)",watched:!0,year:"2017",series:"",review:4},{added:N,tags:["disney","animated","musical"],title:"Beauty and the Beast",watched:!0,year:"",series:"",review:3},{added:N,tags:["disney","animated","superhero","cute"],title:"Big Hero 6",watched:!0,year:"2014",series:"",review:4},{added:N,tags:["action","superhero","marvel"],title:"Black Panther",watched:!0,year:"2018",series:"",review:4},{added:N,tags:["disney","animated","feminism","adventure","action"],title:"Brave",watched:!0,year:"2012",series:"",review:4},{added:N,tags:["action","superhero","marvel"],title:"Captain America",watched:!0,year:"?",series:"Captain America",review:3},{added:N,tags:["action","superhero","marvel"],title:"Captain America: Winter Soldier",watched:!0,year:"2014",series:"Captain America",review:3},{added:N,tags:["disney","animated","musical","family","cute"],title:"Coco",watched:!0,year:"2017",series:"",review:5},{added:N,tags:["action","superhero","marvel","comedy"],title:"Deadpool",watched:!0,year:"2016",series:"Deadpool",review:4},{added:N,tags:["action","superhero","marvel","comedy"],title:"Deadpool 2",watched:!0,year:"2018",series:"Deadpool",review:4},{added:N,tags:["animated","comedy","cute"],title:"Despicable Me",watched:!0,year:"?",series:"Despicable Me",review:4},{added:N,tags:["animated","comedy","cute"],title:"Despicable Me 2",watched:!0,year:"2013",series:"Despicable Me",review:3},{added:N,tags:["animated","comedy","cute"],title:"Despicable Me 3",watched:!0,year:"?",series:"Despicable Me",review:3},{added:N,tags:["action","dystopia","angsty"],title:"Divergent",watched:!0,year:"?",series:"Divergent",review:2},{added:N,tags:["action","superhero","marvel"],title:"Doctor Strange",watched:!0,year:"2016",series:""},{added:N,tags:["comedy","musical"],title:"Dr. Horrible's Sing-Along Blog",watched:!0,year:"?",series:"",review:5},{added:N,tags:["war","action"],title:"Dunkirk",watched:!1,year:"2017",series:""},{added:N,tags:["magic","nerdy"],title:"Fantastic Beasts",watched:!0,year:"2016",series:"Fantastic Beasts",review:4},{added:N,tags:["animated","animals","cute"],title:"Finding Dory",watched:!0,year:"2016",series:"Finding Nemo",review:3},{added:N,tags:["disney","animated","musical","feminism","magic","family"],title:"Frozen",watched:!0,year:"2013",series:"",review:4},{added:N,tags:["action","superhero","marvel"],title:"Guardians of the Galaxy",watched:!0,year:"2014",series:"Guardians of the Galaxy",review:3},{added:N,tags:["action","superhero","marvel"],title:"Guardians of the Galaxy: Vol. 2",watched:!0,year:"2017",series:"Guardians of the Galaxy",review:2},{added:N,tags:["feminism","comedy","spoopy","action"],title:"Ghostbusters (2016)",watched:!0,year:"2016",series:"",review:4},{added:N,tags:["comedy","musical"],title:"Hairspray",watched:!0,year:"?",series:"",review:3},{added:N,tags:["nerdy","nostalgia","magic"],title:"Harry Potter",watched:!0,year:"?",series:"Harry Potter",review:5},{added:N,tags:["history","feminism","drama"],title:"Hidden Figures",watched:!0,year:"?",series:"",review:4},{added:N,tags:["cute","animated","animals"],title:"How to Train Your Dragon",watched:!0,year:"?",series:"How to Train Your Dragon",review:4},{added:N,tags:["cute","animated","animals"],title:"How to Train Your Dragon 2",watched:!0,year:"2014",series:"How to Train Your Dragon",review:3},{added:N,tags:["comedy","drama"],title:"I, Tonya",watched:!0,year:"2017",series:"",review:5},{added:N,tags:["animated","animals"],title:"Ice Age",watched:!0,year:"?",series:"Ice Age",review:4},{added:N,tags:["disney","animated","cute"],title:"Inside Out",watched:!0,year:"2015",series:"",review:4},{added:N,tags:["action","dystopia","angsty"],title:"Insurgent",watched:!0,year:"2014",series:"Divergent",review:2},{added:N,tags:["action","adventure","scifi"],title:"Interstellar",watched:!0,year:"2014",series:"",review:4},{added:N,tags:["disney","musical"],title:"Into the Woods",watched:!0,year:"2014",series:"",review:3},{added:N,tags:["action","superhero","marvel"],title:"Iron Man",watched:!0,year:"?",series:"Iron Man",review:3},{added:N,tags:["action","superhero","marvel"],title:"Iron Man 2",watched:!0,year:"?",series:"Iron Man",review:2},{added:N,tags:["action","superhero","marvel"],title:"Iron Man 3",watched:!0,year:"2013",series:"Iron Man",review:2},{added:N,tags:["animals","animated","comedy"],title:"Isle of Dogs",watched:!0,year:"2018",series:"",review:4},{added:N,tags:["action"],title:"Jurassic World",watched:!0,year:"2015",series:"Jurassic World",review:3},{added:N,tags:["action"],title:"Jurassic World: #2",watched:!0,year:"2018",series:"Jurassic World",review:2},{added:N,tags:["animated"],title:"Kubo and the Two Strings",watched:!1,year:"2016",series:""},{added:N,tags:["musical","romance"],title:"La La Land",watched:!1,year:"2017 or 2016?",series:""},{added:N,tags:["musical","history","drama"],title:"Les Miserables",watched:!0,year:"2012",series:"",review:4},{added:N,tags:["nerdy","magic","adventure"],title:"Lord of the Rings: #1",watched:!0,year:"?",series:"Lord of the Rings",review:3},{added:N,tags:["nerdy","magic","adventure"],title:"Lord of the Rings: #2",watched:!0,year:"?",series:"Lord of the Rings",review:3},{added:N,tags:["nerdy","magic","adventure"],title:"Lord of the Rings: #3",watched:!0,year:"?",series:"Lord of the Rings",review:3},{added:N,tags:["disney","animated","musical"],title:"Moana",watched:!0,year:"?",series:"",review:4},{added:N,tags:["musical","comedy"],title:"Pitch Perfect",watched:!0,year:"2012",series:"Pitch Perfect",review:4},{added:N,tags:["musical","comedy"],title:"Pitch Perfect 2",watched:!0,year:"2015",series:"Pitch Perfect",review:2},{added:N,tags:["musical","comedy"],title:"Pitch Perfect 3",watched:!0,year:"?",series:"Pitch Perfect",review:2},{added:N,tags:["nerdy","action","adventure","scifi"],title:"Rogue One: A Star Wars Story",watched:!0,year:"2016",series:"Star Wars",review:4},{added:N,tags:["superhero","action"],title:"Suicide Squad",watched:!0,year:"2016",series:"",review:1},{added:N,tags:["action","superhero","marvel"],title:"The Avengers",watched:!0,year:"2012",series:"Avengers",review:3},{added:N,tags:["action","superhero","marvel"],title:"The Avengers: Age of Ultron",watched:!0,year:"2015",series:"Avengers",review:3},{added:N,tags:["musical","animated","animals","cute"],title:"Sing!",watched:!0,year:"?",series:"",review:4},{added:N,tags:["marvel","superhero","action"],title:"Spiderman: Homecoming",watched:!0,year:"2017",series:"Spiderman",review:4},{added:N,tags:["nerdy","scifi","action","adventure"],title:"Star Wars",watched:!0,year:"?",series:"Star Wars",review:4},{added:N,tags:["action","superhero","marvel"],title:"The Avengers: Infinity War",watched:!0,year:"?",series:"Avengers",review:4},{added:N,tags:["comedy","romance","drama"],title:"The Big Sick",watched:!1,year:"2017",series:""},{added:N,tags:["comedy"],title:"The Hangover",watched:!0,year:"?",series:"The Hangover",review:4},{added:N,tags:["history","drama"],title:"The Help",watched:!0,year:"?",series:"",review:2},{added:N,tags:["action","adventure","nerdy"],title:"The Hobbit",watched:!0,year:"?",series:"The Hobbit",review:3},{added:N,tags:["action","adventure","nerdy"],title:"The Hobbit: The Desolation of Smaug",watched:!0,year:"2013",series:"The Hobbit",review:3},{added:N,tags:["action","adventure","nerdy"],title:"The Hobbit: The Battle of the Five Armies",watched:!0,year:"2014",series:"The Hobbit",review:3},{added:N,tags:["action","angsty","dystopia"],title:"The Hunger Games",watched:!0,year:"2012",series:"Hunger Games",review:4},{added:N,tags:["action","angsty","dystopia"],title:"The Hunger Games: Catching Fire",watched:!0,year:"2013",series:"Hunger Games",review:3},{added:N,tags:["action","angsty","dystopia"],title:"The Hunger Games: Mockingjay Part 1",watched:!0,year:"2014",series:"Hunger Games",review:3},{added:N,tags:["action","angsty","dystopia"],title:"The Hunger Games: Mockingjay Part 2",watched:!0,year:"2015",series:"Hunger Games",review:3},{added:N,tags:["drama","history"],title:"The Imitation Game",watched:!0,year:"2014",series:"",review:4},{added:N,tags:["animated","comedy"],title:"The Lego Movie",watched:!0,year:"2014",series:"Lego Movie",review:4},{added:N,tags:["animated","comedy"],title:"The Lego Batman Movie",watched:!0,year:"?",series:"Lego Movie",review:3},{added:N,tags:["animated","comedy"],title:"The Lego Ninjago Movie",watched:!0,year:"?",series:"Lego Movie"},{added:N,tags:["action","dystopia"],title:"The Maze Runner",watched:!0,year:"2014",series:"The Maze Runner",review:2},{added:N,tags:["history","drama"],title:"The Zookeeper's Wife",watched:!0,year:"2017",series:"",review:3},{added:N,tags:["action","superhero","marvel"],title:"Thor",watched:!0,year:"?",series:"Thor",review:3},{added:N,tags:["action","superhero","marvel"],title:"Thor: The Dark World",watched:!0,year:"2013",series:"Thor",review:2},{added:N,tags:["action","superhero","marvel"],title:"Thor: Ragnarok",watched:!0,year:"2017",series:"Thor",review:3},{added:N,tags:["action","superhero","feminism"],title:"Wonder Woman",watched:!0,year:"2017",series:"",review:4},{added:N,tags:["animated","disney","cute"],title:"Wreck-It Ralph",watched:!0,year:"2012",series:"Wreck-It Ralph",review:4},{added:N,tags:["disney","animated","animals"],title:"Zootopia",watched:!0,year:"2016",series:"",review:4}],wishlist:[{added:"10/08/18",tags:["spoopy","disney","animated"],title:"The Nightmare Before Christmas",watched:!1,year:"?",releaseDate:"released"},{added:"10/08/18",tags:["comedy","#deep"],title:"The Truman Show",watched:!0,year:"?",releaseDate:"released"},{added:"10/01/18",tags:["romance","comedy"],title:"Crazy Rich Asians",watched:!1,year:"2018",releaseDate:"?"},{added:"10/07/18",tags:["disney","animated","superhero"],title:"Incredibles 2",watched:!0,year:"2018",releaseDate:"October 23"},{added:"10/01/18",tags:["comedy","history"],title:"KKKlansman",watched:!1,year:"2018",releaseDate:"?"},{added:"10/01/18",tags:["disney","musical","nostalgia"],title:"Mary Poppins Returns",watched:!1,year:"2018",releaseDate:"theaters soon?"},{added:"10/01/18",tags:["disney","animated"],title:"Wreck-It Ralph 2",watched:!1,year:"2018",releaseDate:"theaters soon?"},{added:"10/01/18",tags:["nerdy","magic"],title:"Fantastic Beasts: The Crimes of Grindelwald",watched:!1,year:"2018",releaseDate:"theaters in Nov"},{added:"10/09/18",tags:["action","superhero","marvel"],title:"Ant-Man",watched:!0,year:"2015",series:"Ant-Man",releaseDate:"released"},{added:"10/09/18",tags:["superhero","action","marvel"],title:"Ant-Man and the Wasp",watched:!1,year:"2018",series:"Ant-Man",releaseDate:"?"},{added:N,tags:["horror","romance"],title:"Warm Bodies",watched:!0,year:"2013",series:"",releaseDate:"released",review:3},{added:N,tags:["animated","disney","cute"],title:"Wreck-It Ralph 2",watched:!0,year:"2012",releaseDate:"?",series:"Wreck-It Ralph"}]}}var M=function(e){return n.a.createElement("div",null,n.a.createElement("p",null,"You have no movies in your collection."),n.a.createElement(w.a,{to:"/add/collection",style:{marginRight:"10px"}},n.a.createElement("a",{class:"waves-effect waves-light btn blue lighten-2"},"Add a Movie")),n.a.createElement("a",{class:"waves-effect waves-light btn blue lighten-2",onClick:function(){return t=C(),e.updateLocalStorage(t.collection,t.wishlist),void window.location.reload();var t}},"Use Demo Movies"))},T=function(e){return n.a.createElement("div",{className:"page-heading"},n.a.createElement("h2",null,e.heading))},D=Object(f.a)((function(e){var t=e.searchOptions,a=t.reviewFilter,i=t.yearFilter;function r(t,a){"search_option_include"===a?e.changeSearchOptions("includeTags",t):e.changeSearchOptions("excludeTags",t)}function s(){e.searchOptions.unwatchedOnly||e.changeSearchOptions("watchedOnly",!1),e.changeSearchOptions("unwatchedOnly",!e.searchOptions.unwatchedOnly)}function l(){e.searchOptions.watchedOnly||e.changeSearchOptions("unwatchedOnly",!1),e.changeSearchOptions("watchedOnly",!e.searchOptions.watchedOnly)}function o(e){var t="material-icons small icon-link review-star no-hover";return(a.includes(e)||a.length>1&&e>=a[0]&&e<=a[1])&&(t+=" review-star-active"),t}function c(e){return"min"===e?a[0]?a[0]+1:1:a[1]?a[1]-1:5}function d(t,i){var n=parseInt(t.target.value,10);"min"===i?e.changeSearchOptions("reviewFilter",[n,a[1]]):e.changeSearchOptions("reviewFilter",[a[0],n])}function h(t,a){var n=parseInt(t.target.value,10);"min"===a?e.changeSearchOptions("yearFilter",[n,i[1]]):e.changeSearchOptions("yearFilter",[i[0],n])}return n.a.createElement("div",{id:"search"},n.a.createElement(T,{heading:"Search"}),e.movies.length>0?n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 no-padding-left  no-padding-right"},n.a.createElement("h6",null,"Include tags:"),n.a.createElement(k,{creatable:!1,getAllTags:e.getAllTags,getTagsFromSelect:r,type:"search_option_include",skip:t.excludeTags,tags:t.includeTags}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12  no-padding-left  no-padding-right"},n.a.createElement("h6",null,"Exclude tags:"),n.a.createElement(k,{creatable:!1,getAllTags:e.getAllTags,getTagsFromSelect:r,type:"search_option_exclude",skip:t.includeTags,tags:t.excludeTags}))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l4 s12"},n.a.createElement("h3",null,"watched/unwatched only"),n.a.createElement("div",{className:"col checkbox-wrapper",onClick:function(){return s()}},n.a.createElement("input",{type:"checkbox",checked:!!e.searchOptions.unwatchedOnly,onChange:function(){return s()}}),n.a.createElement("span",null,"Unwatched only")),n.a.createElement("div",{className:"col checkbox-wrapper",onClick:function(){return l()}},n.a.createElement("input",{type:"checkbox",checked:!!e.searchOptions.watchedOnly,onChange:function(){return l()}}),n.a.createElement("span",null,"Watched only"))),n.a.createElement("div",{className:"col l4 s12"},n.a.createElement("h3",null,"filter by your reviews"),function(){for(var e=[],t=1;t<=5;t++)e.push(n.a.createElement("i",{className:o(t),key:t},"star"));return e}(),n.a.createElement("br",null),"Min:"," ",n.a.createElement("input",{type:"number",className:"review-search-input",value:a[0],min:"1",max:c("max"),onChange:function(e){return d(e,"min")}}),"Max:"," ",n.a.createElement("input",{type:"number",className:"review-search-input",value:a[1],min:c("min"),max:"5",onChange:function(e){return d(e,"max")}}),n.a.createElement("a",{onClick:function(){return e.changeSearchOptions("reviewFilter",[1,5])},className:"reset-filter"},"Reset"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"col checkbox-wrapper",onClick:function(){return e.changeSearchOptions("includeUnreviewed",!e.searchOptions.includeUnreviewed)}},n.a.createElement("input",{type:"checkbox",checked:!!e.searchOptions.includeUnreviewed,onChange:function(){return e.changeSearchOptions("includeUnreviewed",!e.searchOptions.includeUnreviewed)}}),n.a.createElement("span",null,"Include unreviewed movies"))),n.a.createElement("div",{className:"col l4 s12"},n.a.createElement("h3",null,"filter by year"),"Min:"," ",n.a.createElement("input",{type:"number",className:"review-search-input",value:i[0],min:e.getYearRange().min,max:e.getYearRange().max-1,onChange:function(e){return h(e,"min")}}),"Max:"," ",n.a.createElement("input",{type:"number",className:"review-search-input",value:i[1],min:e.getYearRange().min+1,max:e.getYearRange().max,onChange:function(e){return h(e,"max")}}),n.a.createElement("a",{onClick:function(){return e.changeSearchOptions("yearFilter",[e.getYearRange().min,e.getYearRange().max])},className:"reset-filter"},"Reset"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"col checkbox-wrapper",onClick:function(){return e.changeSearchOptions("includeNoYear",!e.searchOptions.includeNoYear)}},n.a.createElement("input",{type:"checkbox",checked:!!e.searchOptions.includeNoYear,onChange:function(){return e.changeSearchOptions("includeNoYear",!e.searchOptions.includeNoYear)}}),n.a.createElement("span",null,"Include movies with no year entered")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12"},n.a.createElement("br",null),n.a.createElement("button",{className:"btn blue lighten-2",onClick:function(){e.history.push("/search_result")}},"Search")))):n.a.createElement(M,{updateLocalStorage:e.updateLocalStorage}))})),A=a(118),x=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={info:{title:"",year:"",watched:"",added:"",series:"",releaseDate:""},err:{title:"",year:"",watched:"",added:"",series:"",releaseDate:""}},i.getTagsFromSelect=i.getTagsFromSelect.bind(Object(d.a)(i)),i}return Object(c.a)(a,[{key:"onInputChange",value:function(e,t){var a=this.state,i=a.info,n=a.err;i[t]=e.target.value,n[t]="",this.setState({info:i,err:n})}},{key:"onWatchedChange",value:function(){var e=this.state.info;e.watched=!e.watched,this.setState({info:e})}},{key:"getStarClass",value:function(e){var t="material-icons small icon-link review-star";return this.state.review&&this.state.review>=e&&(t+=" review-star-active"),t}},{key:"onReviewChange",value:function(e){e===this.state.review?this.setState({review:!1}):this.setState({review:e})}},{key:"getTagsFromSelect",value:function(e){var t=this.state.info;t.tags=e,this.setState({info:t})}},{key:"submit",value:function(e){e.preventDefault();var t=!1;if(!this.state.info.title){t=!0;this.setState({err:{title:"Please add a title"}})}t||this.props.movieAction(this.state.info,this.props.type),this.props.history.push("/".concat(this.props.type))}},{key:"componentWillMount",value:function(){var e=this.props,t=e.movies,a=e.type,i=e.title;if("edit"===this.props.actionVar){var n=t[a].filter((function(e){return e.title===i}))[0];this.setState({info:n})}}},{key:"render",value:function(){var e=this,t=this.props.type,a=this.state,i=a.info,r=a.err;return n.a.createElement("form",{onSubmit:function(t){return e.submit(t)}},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-label"},"Title"),n.a.createElement("input",{id:"input-title",type:"text",value:i.title,onChange:function(t){return e.onInputChange(t,"title")}}),n.a.createElement("div",{className:"form-err"},r.title)),n.a.createElement("div",{className:"input-field col s8"},n.a.createElement("p",{className:"form-label"},"Year"),n.a.createElement("input",{id:"input-year",type:"number",value:i.year,onChange:function(t){return e.onInputChange(t,"year")}}),n.a.createElement("div",{className:"form-err"},this.state.yearErr)),n.a.createElement("div",{className:"input-field col s4"},n.a.createElement("div",{className:"col checkbox-wrapper",onClick:function(){return e.onWatchedChange()}},n.a.createElement("input",{type:"checkbox",checked:this.state.info.watched,onChange:function(){return e.onWatchedChange()}}),n.a.createElement("span",null,"Watched?"))),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-label"},"Tags"),n.a.createElement(k,{getAllTags:this.props.getAllTags,getTagsFromSelect:this.getTagsFromSelect,creatable:!0,tags:this.state.info.tags})),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-label"},"Added to ",t," (defaults to today, format MM/DD/YYYY)"),n.a.createElement("input",{id:"input-added",type:"text",value:i.added,onChange:function(t){return e.onInputChange(t,"added")}}),n.a.createElement("div",{className:"form-err"},this.state.addedErr)),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-label"},'Series if applicable (e.g. Harry Potter and the Half-Blood Prince is part of "Harry Potter")'),n.a.createElement("input",{id:"input-series",type:"text",value:i.series,onChange:function(t){return e.onInputChange(t,"series")}})),"collection"===t?n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-label"},"Your review"),n.a.createElement("i",{className:this.getStarClass(1),onClick:function(){return e.onReviewChange(1)}},"star"),n.a.createElement("i",{className:this.getStarClass(2),onClick:function(){return e.onReviewChange(2)}},"star"),n.a.createElement("i",{className:this.getStarClass(3),onClick:function(){return e.onReviewChange(3)}},"star"),n.a.createElement("i",{className:this.getStarClass(4),onClick:function(){return e.onReviewChange(4)}},"star"),n.a.createElement("i",{className:this.getStarClass(5),onClick:function(){return e.onReviewChange(5)}},"star")):null,"wishlist"===t?n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-label"},'Release date if known, or can put "released" if already released'),n.a.createElement("input",{id:"input-release",type:"text",value:i.release,onChange:function(t){return e.onInputChange(t,"releaseDate")}})):null,n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-err"},this.state.formErr)," ",n.a.createElement("button",{className:"btn waves-effect waves-light blue lighten-2",onClick:function(t){return e.submit(t)}},"add"===this.props.actionVar?"Add":"Update",n.a.createElement("i",{className:"material-icons right"}))))}}]),a}(i.Component),j=Object(A.a)(x);function I(){var e=new Date,t=e.getDate();t<10&&(t="0"+String(t));var a=e.getMonth()+1;a<10&&(a="0"+String(a));var i=e.getFullYear();return"".concat(a,"/").concat(t,"/").concat(i)}var R=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).addMovie=i.addMovie.bind(Object(d.a)(i)),i}return Object(c.a)(a,[{key:"addMovie",value:function(e,t){e.added||(e.added=I()),"wishlist"!==t||e.releaseDate||(e.releaseDate="unknown"),this.props.addMovie(e,t),this.props.history.push("/".concat(t))}},{key:"componentWillMount",value:function(){var e=I();this.setState({added:e})}},{key:"render",value:function(){var e=this.props.match.params.type;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12"},n.a.createElement(w.a,{to:"/".concat(e)},n.a.createElement("i",{className:"material-icons small icon-link"},"arrow_back")),n.a.createElement(w.a,{to:"/imdb",className:"right"},"IMDB Search"," ",n.a.createElement("i",{className:"material-icons tiny icon-link"},"search")),n.a.createElement("h5",null,"Add to"," ","collection"===e?"Collection":"Wishlist"),n.a.createElement("div",{className:"row"},n.a.createElement(j,{movieAction:this.addMovie,actionVar:"add",type:e,getAllTags:this.props.getAllTags}))))}}]),a}(i.Component),L=Object(f.a)(R),Y=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={type:"",addedErr:""},i.editMovie=i.editMovie.bind(Object(d.a)(i)),i}return Object(c.a)(a,[{key:"onTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"onYearChange",value:function(e){this.setState({year:e.target.value})}},{key:"onWatchedChange",value:function(e){this.setState({watched:e.target.checked})}},{key:"onTagsChange",value:function(e){this.setState({tags:e.target.value,tagsErr:""})}},{key:"onAddedChange",value:function(e){this.setState({added:e.target.value,addedErr:""})}},{key:"onReleaseDateChange",value:function(e){this.setState({releaseDate:e.target.value})}},{key:"onSeriesChange",value:function(e){this.setState({series:e.target.value})}},{key:"onReviewChange",value:function(e){e===this.state.review?this.setState({review:!1}):this.setState({review:e})}},{key:"getStarClass",value:function(e){var t="material-icons small icon-link review-star";return this.state.review&&this.state.review>=e&&(t+=" review-star-active"),t}},{key:"updateMovie",value:function(e){e.preventDefault();var t=!1;if(this.state.title||(this.setState({titleErr:"Please enter a title."}),t=!0),this.state.title.includes("#")&&(this.setState({titleErr:"Title cannot inclue a '#'"}),t=!0),(10!==this.state.added.length||!this.state.added.includes("/")||this.state.added.split("/")[0]>12||this.state.added.split("/")[1]>31)&&(this.setState({addedErr:"Please enter a date in the format mm/dd/yyyy"}),t=!0),!t){var a;a=String(this.state.tags.length)>0?(a=(a=this.state.tags.split(" ")).filter((function(e){return e}))).sort():[];var i={title:this.state.title,year:this.state.year,tags:a,watched:this.state.watched,added:this.state.added,series:this.state.series,review:this.state.review};"wishlist"===this.state.type&&(i.releaseDate=this.state.releaseDate||"Unknown"),this.props.editMovie(i,this.props.match.params.title,this.state.type),this.props.history.push("/".concat(this.state.type))}}},{key:"editMovie",value:function(e,t){this.props.editMovie(e,this.props.match.params.title,t)}},{key:"componentWillMount",value:function(){var e,t=this.props.match.params.title;this.props.movies.collection.filter((function(e){return e.title===t})).length>0?(this.setState({type:"collection"}),e=this.props.movies.collection):(this.setState({type:"wishlist"}),e=this.props.movies.wishlist);var a=e.filter((function(e){return e.title===t}))[0];a.added||(a.added=I()),this.setState(a)}},{key:"moveToCollection",value:function(){var e,t=this.props.movies.wishlist;for(var a in t)t[a].title===this.state.title&&(e=t[a]);if("string"===typeof e.tags){var i=e.tags.split(" ");e.tags=i}delete e.releaseDate,e.added=I(),this.props.addMovie(e,"collection"),this.props.deleteMovie(this.state.title,"wishlist")}},{key:"render",value:function(){var e=this,t=this.props.match.params,a=t.type,i=t.title;return n.a.createElement("div",null,n.a.createElement(w.a,{to:"/".concat(this.state.type)},n.a.createElement("i",{className:"material-icons small icon-link"},"arrow_back")),n.a.createElement(w.a,{to:"/".concat(this.state.type)},n.a.createElement("i",{className:"material-icons small icon-link float-right",onClick:function(){return e.props.deleteMovie(e.state.title,e.state.type)},title:"Remove from ".concat(this.state.type)},"delete")),"wishlist"===this.state.type?n.a.createElement(w.a,{to:"/collection"},n.a.createElement("i",{className:"material-icons small icon-link float-right",title:"Move to collection",style:{marginRight:"10px"},onClick:function(){return e.moveToCollection()}},"move_to_inbox")):null,n.a.createElement("h5",null,"edit ",this.state.title),n.a.createElement("div",{className:"row"},n.a.createElement(j,{movieAction:this.editMovie,actionVar:"edit",type:a,title:i,getAllTags:this.props.getAllTags,movies:this.props.movies})))}}]),a}(i.Component),W=Object(f.a)(Y),_=function(e){return n.a.createElement("div",{id:"sort-options"},"Sort options:"," ",n.a.createElement("a",{onClick:function(){return e.changeSortMethod("dateAdded")},className:"dateAdded"===e.sortBy?"sort-option sort-option-active":"sort-option"},"date added"),e.getSortOption("dateAdded")," | ",n.a.createElement("a",{onClick:function(){return e.changeSortMethod("title")},className:"title"===e.sortBy?"sort-option sort-option-active":"sort-option"},"title",e.getSortOption("title"))," | ",n.a.createElement("a",{onClick:function(){return e.changeSortMethod("year")},className:"year"===e.sortBy?"sort-option sort-option-active":"sort-option"},"year"),e.getSortOption("year"),"wishlist"!==e.type?n.a.createElement("span",null," | ",n.a.createElement("a",{onClick:function(){return e.changeSortMethod("review")},className:"review"===e.sortBy?"sort-option sort-option-active":"sort-option"},"review"),e.getSortOption("review")):null)},B=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={},i.getSortOption=i.getSortOption.bind(Object(d.a)(i)),i.changeSortMethod=i.changeSortMethod.bind(Object(d.a)(i)),i}return Object(c.a)(a,[{key:"removeFromList",value:function(e){var t,a=document.querySelectorAll(".table-list-row");for(var i in a)a[i].classList&&(t=a[i].classList.value).substr(t.indexOf(" ")+1)===e&&a[i].classList.add("hidden")}},{key:"sortByMethod",value:function(e,t){return"year"===e||"review"===e?t.sort((function(t,a){if(t[e]===a[e]){var i=t.title.toLowerCase(),n=a.title.toLowerCase();if(i<n)return-1;if(i>n)return 1}return t[e]&&"?"!==t[e]?a[e]&&"?"!==a[e]?a[e]-t[e]:-1:1})):"title"===e?t.sort((function(e,t){var a=e.title.toLowerCase(),i=t.title.toLowerCase();return a<i?-1:a>i?1:a===i?e.year-t.year:0})):"dateAdded"===e?t.sort((function(e,t){if(!e.added)return-1;if(!t.added)return 1;var a=e.added.split("/"),i=t.added.split("/");if(2===a[2].length&&(a[2]="20"+a[2]),2===i[2].length&&(i[2]="20"+i[2]),a[2]>i[2])return-1;if(a[2]<i[2])return 1;if(a[2]===i[2]){if(a[0]>i[0])return-1;if(a[0]<i[0])return 1;if(a[0]===i[0]){if(a[1]>i[1])return-1;if(a[1]<i[1])return 1;if(a[1]===i[1]){var n=e.title.toLowerCase(),r=t.title.toLowerCase();return n<r?-1:n>r?1:0}return 0}return 0}return 0})):void 0}},{key:"renderMovies",value:function(e){var t=this,a=[],i=this.props.sortOption,r=i.method,s=i.ascending,l=this.sortByMethod(r,e);s||l.reverse();var o=function(e){var i=l[e];a.push(n.a.createElement("tr",{key:e,className:"table-list-row ".concat(i.title),title:i.title},n.a.createElement("td",null,i.title,t.props.deletable?n.a.createElement("i",{className:"material-icons tiny icon-link icon-link-blue",onClick:function(){return t.removeFromList(i.title)}},"delete"):null,t.props.editable?n.a.createElement(w.a,{to:"/edit/".concat(t.props.type,"/").concat(i.title)},n.a.createElement("i",{className:"material-icons tiny icon-link icon-link-blue"},"edit")):null),n.a.createElement("td",null,n.a.createElement("ul",{className:"tags-ul"},t.renderTags(i.tags))),n.a.createElement("td",{className:"hide-on-med-and-down"},i.year),n.a.createElement("td",{className:"hide-on-small-only",style:{textAlign:"center"}},i.watched?"Yes":"No"),"wishlist"===t.props.type?n.a.createElement("td",null,i.releaseDate):null,"wishlist"!==t.props.type?n.a.createElement("td",{className:"hide-on-small-only"},t.getStars(i.review)):null))};for(var c in l)o(c);return a}},{key:"getStars",value:function(e){for(var t=[],a=0;a<e;a++)t.push(n.a.createElement("i",{key:a,className:"material-icons tiny icon-link icon-link-blue"},"star"));return t}},{key:"renderTags",value:function(e){var t=[];for(var a in e){var i="tag-result";this.props.includeTags&&this.props.includeTags.includes(e[a])&&(i+=" tag-match"),t.push(n.a.createElement("li",{className:i,key:a},e[a]))}return t}},{key:"changeSortMethod",value:function(e){this.props.sortOption.method===e&&this.props.sortOption.ascending?this.props.changeSortOption({method:e,ascending:!1}):this.props.changeSortOption({method:e,ascending:!0})}},{key:"getSortOption",value:function(e){var t,a="material-icons tiny icon-link";return this.props.sortOption.method===e?(a+=" icon-link-blue",t=this.props.sortOption.ascending?"up":"down"):t="up",n.a.createElement("i",{className:a},"arrow_drop_".concat(t))}},{key:"componentWillMount",value:function(){"wishlist"===this.props.type&&"review"===this.props.sortOption.method&&this.changeSortMethod("dateAdded")}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(_,{sortBy:this.props.sortOption.method,changeSortMethod:this.changeSortMethod,getSortOption:this.getSortOption,type:this.props.type}),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Tags"),n.a.createElement("th",{className:"hide-on-med-and-down"},"Year"),n.a.createElement("th",{className:"hide-on-small-only"},"Watched?"),"wishlist"===this.props.type?n.a.createElement("th",null,"Release Date"):null,"wishlist"!==this.props.type?n.a.createElement("th",{className:"hide-on-small-only"},"Your Review"):null)),n.a.createElement("tbody",null,this.renderMovies(this.props.movies))))}}]),a}(i.Component),F=function(e){return n.a.createElement("div",null,n.a.createElement(T,{heading:"Collection"}),e.movies.length>1?n.a.createElement("div",null,n.a.createElement(w.a,{to:"/add/collection"},n.a.createElement("i",{className:"material-icons small icon-link float-right"},"add_circle")),n.a.createElement(B,{movies:e.movies,type:"collection",editable:!0,deletable:!1,sortOption:e.sortOption,changeSortOption:e.changeSortOption}),n.a.createElement("div",{className:"dev-options"},n.a.createElement("a",{className:"dev-option",onClick:function(){return e.deleteAll("collection")}},"Delete collection"))):n.a.createElement(M,{updateLocalStorage:e.updateLocalStorage}))},H=function(e){var t=e.wishlist;for(var a in t)if("string"===typeof t[a].tags){var i=void 0;i=t[a].tags.length>0?(i=t[a].tags.split(" ")).filter((function(e){return e})):[],t[a].tags=i}return n.a.createElement("div",null,n.a.createElement(T,{heading:"Wishlist"}),n.a.createElement(w.a,{to:"/add/wishlist"},n.a.createElement("i",{className:"material-icons small icon-link float-right"},"add_circle")),n.a.createElement(B,{movies:t,type:"wishlist",editable:!0,deletable:!1,sortOption:e.sortOption,changeSortOption:e.changeSortOption}),n.a.createElement("div",{className:"dev-options"},n.a.createElement("a",{className:"dev-option",onClick:function(){return e.deleteAll("wishlist")}},"Delete wishlist")))};var P=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={exportData:"",importData:""},i}return Object(c.a)(a,[{key:"onExportDataChange",value:function(e){this.setState({exportData:e.target.value})}},{key:"onImportDataChange",value:function(e){this.setState({importData:e.target.value})}},{key:"importData",value:function(e){var t=JSON.parse(this.state.importData);this.props.updateLocalStorage(t.collection,t.wishlist),alert("Import successful.")}},{key:"fillDevMovies",value:function(e){this.props.updateLocalStorage(e.collection,e.wishlist)}},{key:"componentWillMount",value:function(){this.setState({exportData:JSON.stringify(this.props.movies)})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(T,{heading:"My Account"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col m6 s12 no-padding-left"},n.a.createElement("p",{className:"form-label"},n.a.createElement("b",null,"EXPORT DATA"),n.a.createElement("br",null),"Copy your data and save it in a JSON file"),n.a.createElement("button",{className:"btn blue lighten-2",style:{margin:"22px 0"},onClick:function(e){return document.getElementById("account-export").select(),document.execCommand("copy"),void alert("Copy successful.")}},"Copy to Clipboard"),n.a.createElement("textarea",{id:"account-export",className:"materialize-textarea",value:this.state.exportData,onChange:function(t){return e.onExportDataChange(t)}})),n.a.createElement("div",{className:"input-field col m6 s12 no-padding-right"},n.a.createElement("p",{className:"form-label"},n.a.createElement("b",null,"IMPORT DATA"),n.a.createElement("br",null),'Paste your data here and click "Import Data"'),n.a.createElement("button",{className:"btn blue lighten-2",style:{margin:"22px 0"},onClick:function(t){return e.importData(t)}},"Import Data"),n.a.createElement("textarea",{id:"account-import",className:"materialize-textarea",value:this.state.importData,onChange:function(t){return e.onImportDataChange(t)}}))),n.a.createElement("div",{className:"dev-options"},n.a.createElement("a",{className:"dev-option",onClick:function(){return e.fillDevMovies(C())}},"Fill dev movies")))}}]),a}(i.Component),J=a(58),G=a.n(J),U=function(e){return n.a.createElement("div",{className:"row flex"},function(){var t=-1;return e.data.map((function(a){return t++,n.a.createElement("div",{className:"col l3 m4 s12 imdb-result flex",key:t,onClick:function(){return e.chooseMovie(a.Title)}},"N/A"!==a.Poster?n.a.createElement("div",null,n.a.createElement("img",{src:a.Poster,alt:a.Title,title:a.Title,className:"movie-poster"}),n.a.createElement("br",null),a.Title," ",a.Year?"(".concat(a.Year,")"):null):null)}))}())},z=Object(f.a)((function(e){function t(t,a){e.addMovie({title:t.Title,year:t.Year||""},a),e.history.push("/edit/".concat(t.Title))}var a=e.chosenData[0];return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 link"},n.a.createElement("a",{onClick:function(){return e.changeDisplay("options")}}," ",n.a.createElement("i",{className:"material-icons tiny icon-link"},"arrow_back")," ","Back to view all results")),n.a.createElement("div",{className:"col m6 s12"},n.a.createElement("p",{className:"imdb-title"},a.Title," (",a.Year,")"),n.a.createElement("img",{className:"movie-poster-lg",src:a.Poster,alt:a.Title})),n.a.createElement("div",{className:"col m6 s12"},n.a.createElement("br",null),n.a.createElement("p",{className:"imdb-action",onClick:function(){return t(a,"collection")}},"Move to collection"," ",n.a.createElement("i",{className:"material-icons small icon-link",title:"Move to collection",style:{marginRight:"10px"}},"move_to_inbox")),n.a.createElement("p",{className:"imdb-action",onClick:function(){return t(a,"wishlist")}},"Move to wishlist"," ",n.a.createElement("i",{className:"material-icons small icon-link",title:"Move to wishlist",style:{marginRight:"10px"}},"filter_vintage"))))})),V=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={search:"",data:[],display:"",chosenData:{}},i.getData=i.getData.bind(Object(d.a)(i)),i.chooseMovie=i.chooseMovie.bind(Object(d.a)(i)),i.changeDisplay=i.changeDisplay.bind(Object(d.a)(i)),i}return Object(c.a)(a,[{key:"onSearchChange",value:function(e){this.setState({search:e.target.value,display:""})}},{key:"getData",value:function(e){var t=this;e.preventDefault(),G.a.get("".concat("http://www.omdbapi.com/?apikey=b502230&",'type="movie"&s=').concat(this.state.search)).then((function(e){t.setState({data:e.data.Search,display:"options"})})).catch((function(e){console.log(e)}))}},{key:"chooseMovie",value:function(e){var t=this.state.data.filter((function(t){return t.Title===e}));this.setState({chosenData:t,display:"result"})}},{key:"changeDisplay",value:function(e){this.setState({display:e})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(T,{heading:"IMDB Search"}),n.a.createElement("br",null),n.a.createElement("form",{onSubmit:function(t){return e.getData(t)}},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("p",{className:"form-label"},"Title"),n.a.createElement("input",{type:"text",value:this.state.search,onChange:function(t){return e.onSearchChange(t)}}))),"options"===this.state.display?n.a.createElement(U,{data:this.state.data,chooseMovie:this.chooseMovie}):null,"result"===this.state.display?n.a.createElement(z,{changeDisplay:this.changeDisplay,chosenData:this.state.chosenData,addMovie:this.props.addMovie}):null)}}]),a}(i.Component),K=function(e){var t=e.collection,a=e.searchOptions,i=a.includeTags,r=a.excludeTags,s=a.unwatchedOnly,l=a.reviewFilter,o=a.includeUnreviewed,c=a.yearFilter,d=a.includeNoYear;return n.a.createElement("div",null,n.a.createElement("h2",null,"Search Result"),n.a.createElement(B,{movies:function(){var e=[],a=function(a){var n=t[a],h=n.tags,u=!1,m=!1,p=!1,v=!1,g=!1;i.length>0?u=i.some((function(e){return h.indexOf(e)>=0})):u=!0;r.length>0?m=!r.some((function(e){return h.indexOf(e)>=0})):m=!0;p=!s||!n.watched;var y=n.review;v=y?y>=l[0]&&y<=l[1]:!!o;var f=n.year;g=f&&"?"!==f?f>=c[0]&&f<=c[1]:!!d,u&&m&&p&&v&&g&&e.push(n)};for(var n in t)a(n);return e}(),editable:!1,deletable:!1,sortOption:e.sortOption,changeSortOption:e.changeSortOption,includeTags:a.includeTags}))},q=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).state={collection:[],wishlist:[],searchOptions:{includeTags:[],excludeTags:[],unwatchedOnly:!1,watchedOnly:!1,reviewFilter:[1,5],includeUnreviewed:!0,yearFilter:[null,null],includeNoYear:!0},sortOption:{method:"dateAdded",ascending:!0}},i.updateLocalStorage=i.updateLocalStorage.bind(Object(d.a)(i)),i.updateState=i.updateState.bind(Object(d.a)(i)),i.addMovie=i.addMovie.bind(Object(d.a)(i)),i.editMovie=i.editMovie.bind(Object(d.a)(i)),i.deleteMovie=i.deleteMovie.bind(Object(d.a)(i)),i.deleteAll=i.deleteAll.bind(Object(d.a)(i)),i.getAllTags=i.getAllTags.bind(Object(d.a)(i)),i.changeSearchOptions=i.changeSearchOptions.bind(Object(d.a)(i)),i.getYearRange=i.getYearRange.bind(Object(d.a)(i)),i.changeSortOption=i.changeSortOption.bind(Object(d.a)(i)),i}return Object(c.a)(a,[{key:"updateLocalStorage",value:function(e,t){var a=[],i=[],n=[],r=[],s=e;for(var l in s)switch(l%4){case 0:a.push(s[l]);break;case 1:i.push(s[l]);break;case 2:n.push(s[l]);break;case 3:r.push(s[l]);break;default:a.push(s[l])}localStorage.setItem("movieState_collection_1",JSON.stringify(a)),localStorage.setItem("movieState_collection_2",JSON.stringify(i)),localStorage.setItem("movieState_collection_3",JSON.stringify(n)),localStorage.setItem("movieState_collection_4",JSON.stringify(r)),localStorage.setItem("movieState_wishlist",JSON.stringify(t))}},{key:"updateState",value:function(e,t,a,i){var n=p.a.union(e,t,a,i);this.setState({collection:n||[],wishlist:JSON.parse(localStorage.getItem("movieState_wishlist"))||[]}),this.updateYearRange(n)}},{key:"addMovie",value:function(e,t){var a=this.state[t];a.push(e),this.setState(Object(l.a)({},t,a)),this.updateYearRange(a)}},{key:"editMovie",value:function(e,t,a){var i=this.state[a];for(var n in i)i[n].title===t&&(i[n]=e);e.title!==t&&delete i[t],this.setState(Object(l.a)({},a,i)),this.updateYearRange(i)}},{key:"deleteMovie",value:function(e,t){var a=[];this.setState(Object(l.a)({},t,a)),this.updateYearRange(a)}},{key:"updateYearRange",value:function(e){var t=this.state.searchOptions;t.yearFilter=[this.getYearRange(e).min,this.getYearRange(e).max],this.setState({searchOptions:t})}},{key:"deleteAll",value:function(e){this.setState(Object(l.a)({},e,[]))}},{key:"getAllTags",value:function(){var e=[];for(var t in this.state.collection)for(var a in this.state.collection[t].tags)e.includes(this.state.collection[t].tags[a])||e.push(this.state.collection[t].tags[a]);return e=e.sort()}},{key:"changeSearchOptions",value:function(e,t){var a=this.state.searchOptions;a[e]=t,this.setState({searchOptions:a}),localStorage.setItem("movieState_searchOptions",JSON.stringify(a))}},{key:"getYearRange",value:function(e){e||(e=this.state.collection);var t=null,a=null;for(var i in e){var n=parseInt(e[i].year,10);"?"!==n&&(t||(t=n),a||(a=n),n<t&&(t=n),n>a&&(a=n))}return{min:t,max:a}}},{key:"changeSortOption",value:function(e){this.setState({sortOption:e})}},{key:"componentDidUpdate",value:function(){this.updateLocalStorage(this.state.collection,this.state.wishlist)}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("movieState_collection_1")),t=JSON.parse(localStorage.getItem("movieState_collection_2")),a=JSON.parse(localStorage.getItem("movieState_collection_3")),i=JSON.parse(localStorage.getItem("movieState_collection_4"));this.updateState(e,t,a,i);var n=JSON.parse(localStorage.getItem("movieState_searchOptions"));n&&this.setState({searchOptions:n})}},{key:"render",value:function(){var e=this,t=this.state,a=t.collection,i=t.wishlist,r=t.searchOptions,s=t.sortOption;return n.a.createElement("div",{className:"App"},n.a.createElement(v.a,null,n.a.createElement("div",null,n.a.createElement(E,{props:this.context}),n.a.createElement("div",{className:"container",style:{marginTop:"20px"}},n.a.createElement(g.a,null,n.a.createElement(y.a,{exact:!0,path:"/",render:function(){return n.a.createElement(D,{movies:a,getAllTags:e.getAllTags,searchOptions:r,changeSearchOptions:e.changeSearchOptions,getYearRange:e.getYearRange,updateLocalStorage:e.updateLocalStorage})}}),n.a.createElement(y.a,{path:"/search_result",render:function(){return n.a.createElement(K,{collection:a,searchOptions:r,sortOption:s,changeSortOption:e.changeSortOption})}}),n.a.createElement(y.a,{path:"/add/:type",render:function(){return n.a.createElement(L,{addMovie:e.addMovie,editMovie:e.editMovie,getAllTags:e.getAllTags,movies:e.state})}}),n.a.createElement(y.a,{path:"/edit/:type/:title",render:function(){return n.a.createElement(W,{movies:e.state,addMovie:e.addMovie,getAllTags:e.getAllTags,editMovie:e.editMovie,deleteMovie:e.deleteMovie})}}),n.a.createElement(y.a,{path:"/collection",render:function(){return n.a.createElement(F,{movies:a,deleteAll:e.deleteAll,sortOption:s,changeSortOption:e.changeSortOption,updateLocalStorage:e.updateLocalStorage})}}),n.a.createElement(y.a,{path:"/wishlist",render:function(){return n.a.createElement(H,{wishlist:i,deleteAll:e.deleteAll,sortOption:s,changeSortOption:e.changeSortOption})}}),n.a.createElement(y.a,{path:"/account",render:function(){return n.a.createElement(P,{updateLocalStorage:e.updateLocalStorage,updateState:e.updateState,movies:e.state})}}),n.a.createElement(y.a,{path:"/imdb",render:function(){return n.a.createElement(V,{addMovie:e.addMovie})}}))))))}}]),a}(i.Component),Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var X;X=q,s.a.render(n.a.createElement(X,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Z?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Q(e)}))}}()},60:function(e,t,a){e.exports=a(116)},67:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.1cfb9fa8.chunk.js.map